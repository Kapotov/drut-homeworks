# Домашнее задание к занятию "Маршрутизация в сети Интернет. Автономные системы"

### Цель задания

Данное домашнее задание научит вас выполнять базовую настройку протокола BGP, что является важным навыком для сетевого администратора. 
Также вы научитесь конфигурировать передачу маршрутной информации и направление трафика. Конфигурация и понимание основных принципов - это фундаментальные навыки, которые необходимы при работе с BGP. 

В результате выполенения этого задания вы:
1. Поймете, как происходит обмен маршрутами BGP
2. Научитесь настраивать BGP между маршрутизаторами
3. Освоите базовую настройку маршрутизации BGP

### Инструкция к выполнению домашнего задания

1. Сделайте копию [Шаблона для домашнего задания](https://docs.google.com/document/d/1youKpKm_JrC0UzDyUslIZW2E2bIv5OVlm_TQDvH5Pvs/edit) себе на Google Disk.
2. В названии файла введите корректное название лекции и вашу фамилию и имя.
3. Зайдите в “Настройки доступа” и выберите доступ “Просматривать могут все в Интернете, у кого есть ссылка”.
 Ссылка на инструкцию [Как предоставить доступ к файлам и папкам на Google Диске](https://support.google.com/docs/answer/2494822?hl=ru&co=GENIE.Platform%3DDesktop)
5. Скопируйте текст задания в свой документ.
6. Выполните домашнее задание, запишите ответы и приложите необходимые скриншоты в свой Google Doc.
7. Для проверки домашнего задания преподавателем отправьте ссылку на ваш документ в личном кабинете.
8. Любые вопросы по решению задач задавайте в чате учебной группы.

------

### Задание 1

Маршрутизатор А объявляет свою собственную сеть 172.17.1.0 своим одноранговым узлам BGP. 
- Какой маршрутной информацией будет обладать маршрутизатор D о доступности сети 172.17.1.0?
- Как будут выглядеть атрибуты AS-path? 
- Через какие роутеры пройдет трафик при передаче информации от маршрутизатора D к маршрутизатору А?

![146362](https://user-images.githubusercontent.com/85474612/153883049-616b66f2-f8c8-4697-a668-7ff1bb41908e.jpg)

*Приведите ответ в свободной форме.*
# Ответ
```
Маршрутизатор D узнает о сети 172.17.1.0 через объявления BGP от своих соседей. Исходя из представленной топологии, маршрутизатор D получит информацию о сети 172.17.1.0 минимум через два пути: через AS 55000 (через маршрутизатор C) и через AS 60000 (через маршрутизатор E).

Атрибут AS-path для маршрутизатора D будет включать в себя последовательность номеров автономных систем (AS), через которые прошло объявление до того, как достигло маршрутизатора D. Это BGP-атрибут, который используется для предотвращения зацикливания маршрутов и выбора лучшего пути. Атрибут AS-path, поступающий на маршрутизатор D от маршрутизатора C, будет содержать последовательность AS 50000 > AS 45000 > AS 40000. Атрибут AS-path, поступающий от маршрутизатора E, будет содержать AS 60000 > AS 40000.

Трафик от маршрутизатора D к маршрутизатору А будет проходить через те роутеры, которые соответствуют выбранному BGP маршруту, который выбирается на основе наименьшего значения AS-path и других критериев, таких как local-preference, MED, и других BGP атрибутов.

Например, если предположить, что все другие BGP атрибуты одинаковы, и решение будет приниматься только на основе атрибута AS-path, то маршрутизатор D выберет более короткий путь через маршрутизатор E, так как он содержит меньшее количество AS-хопов. Трафик пойдет от D к E, затем в AS 60000, оттуда в AS 40000 и наконец к маршрутизатору A. Однако если метрики или политики маршрутизации отличаются, могут быть выбраны и другие пути.
Router D (AS 55000) -> Router E (AS 60000) -> Router A (AS 40000).
```
---

### Задание 2

Что означает следующий узел 0.0.0.0 в выходных данных команды show ip bgp?

*Приведите ответ в свободной форме.*
# Ответ
```
 В случае адреса next hop 0.0.0.0 в выводе команды show ip bgp это обозначает, что BGP-маршрут использует локальный интерфейс для доставки пакетов к указанному маршруту, вместо конкретного следующего перехода. Это значит, что трафик к этому маршруту будет направляться через интерфейс, указанный как исходный интерфейс для этого маршрута, вместо конкретного IP-адреса следующего перехода.
```
### Задание 3. Лабораторная работа "Настройка конфигурации BGP"

В Cisco Packet Tracer соберите сеть, состоящую из двух маршрутизаторов R1 и R2, находящиеся в разных AS. Настройте между ними BGP.

*Приведите скриншоты, где на R1 и R2 BGP-соединение в статусе Established. Пришлите pkt файл.*

---
# Ответ
![Снимок экрана 2024-01-10 170535](https://github.com/Kapotov/drut-homeworks/assets/123774335/c83604c8-1ff0-46cd-b7bc-2f6f279b288c)
[Маршрутизация в сети Интернет. Автономные системы.zip](https://github.com/Kapotov/drut-homeworks/files/13888739/default.zip)




## Дополнительные задания (со звездочкой*)
Эти задания дополнительные (необязательные к выполнению) и никак не повлияют на получение вами зачета по этому домашнему заданию. Вы можете их выполнить, если хотите глубже и/или шире разобраться в материале.

### Задание 4*

На основе лабораторной работы в Задании 3 к маршрутизатору R1 добавьте еще маршрутизатор R3 и сделайте так, чтобы  чтобы  с R1 анонсировался дефолт на R3.

*Приведите скриншот маршрутизатора R1, где отображена таблица BGP. Пришлите pkt файл.*

---
### Правила приема домашнего задания

В личном кабинете отправлены:

- ссылка на документ (Google Doc) с выполненным заданием. В документе настроены права доступа “Просматривать могут все в Интернете, у кого есть ссылка”;
- pkt-файл с выполненным проектом;
- файл в формате .png или .jpg.

### Критерии оценки

Зачет - выполнены все задания, ответы даны в развернутой форме, приложены соответствующие скриншоты и файлы проекта, в выполненных заданиях нет противоречий и нарушения логики.

На доработку - задание выполнено частично или не выполнено, в логике выполнения заданий есть противоречия, существенные недостатки.
